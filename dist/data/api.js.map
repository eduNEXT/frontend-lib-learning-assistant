{"version":3,"file":"api.js","names":["_frontendPlatform","require","_auth","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","fetchChatResponse","courseId","messageList","unitId","customQueryParams","undefined","payload","map","message","role","content","queryParams","snakeCaseObject","queryString","URLSearchParams","toString","url","URL","concat","getConfig","CHAT_RESPONSE_URL","data","getAuthenticatedHttpClient","post","href","fetchLearningAssistantChatSummary","get"],"sources":["../../src/data/api.js"],"sourcesContent":["import { getConfig, snakeCaseObject } from '@edx/frontend-platform';\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\n\nasync function fetchChatResponse(courseId, messageList, unitId, customQueryParams = {}) {\n  const payload = messageList.map((message) => ({\n    role: message?.role,\n    content: message?.content,\n  }));\n\n  let queryParams = {\n    unitId,\n    ...customQueryParams,\n  };\n\n  queryParams = snakeCaseObject(queryParams);\n\n  let queryString = new URLSearchParams(queryParams);\n  queryString = queryString.toString();\n\n  const url = new URL(`${getConfig().CHAT_RESPONSE_URL}/${courseId}?${queryString}`);\n  const { data } = await getAuthenticatedHttpClient().post(url.href, payload);\n\n  return data;\n}\n\nasync function fetchLearningAssistantChatSummary(courseId) {\n  const url = new URL(`${getConfig().CHAT_RESPONSE_URL}/${courseId}/chat-summary`);\n\n  const { data } = await getAuthenticatedHttpClient().get(url.href);\n  return data;\n}\n\nexport {\n  fetchChatResponse,\n  fetchLearningAssistantChatSummary,\n};\n"],"mappings":"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","ignoreList":[]}