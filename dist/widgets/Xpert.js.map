{"version":3,"file":"Xpert.js","names":["_propTypes","_interopRequireDefault","require","_react","_reactRedux","_thunks","_ToggleXpertButton","_Sidebar","_experiments","_context","_jsxRuntime","e","__esModule","default","Xpert","_ref","courseId","contentToolsEnabled","unitId","isUpgradeEligible","dispatch","useDispatch","courseInfo","useMemo","isEnabled","sidebarIsOpen","useSelector","state","learningAssistant","setSidebarIsOpen","isOpen","updateSidebarIsOpen","useEffect","getLearningAssistantChatSummary","jsx","CourseInfoProvider","value","children","ExperimentsProvider","jsxs","Fragment","setIsOpen","propTypes","PropTypes","string","isRequired","bool","_default","exports"],"sources":["../../src/widgets/Xpert.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { updateSidebarIsOpen, getLearningAssistantChatSummary } from '../data/thunks';\nimport ToggleXpert from '../components/ToggleXpertButton';\nimport Sidebar from '../components/Sidebar';\nimport { ExperimentsProvider } from '../experiments';\nimport { CourseInfoProvider } from '../context';\n\nconst Xpert = ({\n  courseId,\n  contentToolsEnabled,\n  unitId,\n  isUpgradeEligible,\n}) => {\n  const dispatch = useDispatch();\n  const courseInfo = useMemo(\n    () => ({ courseId, unitId, isUpgradeEligible }),\n    [courseId, unitId, isUpgradeEligible],\n  );\n\n  const {\n    isEnabled,\n    sidebarIsOpen,\n  } = useSelector(state => state.learningAssistant);\n\n  const setSidebarIsOpen = (isOpen) => {\n    dispatch(updateSidebarIsOpen(isOpen));\n  };\n\n  useEffect(() => {\n    dispatch(getLearningAssistantChatSummary(courseId));\n  }, [dispatch, courseId]);\n\n  return isEnabled ? (\n    <CourseInfoProvider value={courseInfo}>\n      <ExperimentsProvider>\n        <>\n          <ToggleXpert\n            courseId={courseId}\n            isOpen={sidebarIsOpen}\n            setIsOpen={setSidebarIsOpen}\n            contentToolsEnabled={contentToolsEnabled}\n          />\n          <Sidebar\n            courseId={courseId}\n            isOpen={sidebarIsOpen}\n            setIsOpen={setSidebarIsOpen}\n            unitId={unitId}\n          />\n        </>\n      </ExperimentsProvider>\n    </CourseInfoProvider>\n  ) : null;\n};\n\nXpert.propTypes = {\n  courseId: PropTypes.string.isRequired,\n  contentToolsEnabled: PropTypes.bool.isRequired,\n  unitId: PropTypes.string.isRequired,\n  isUpgradeEligible: PropTypes.bool.isRequired,\n};\n\nexport default Xpert;\n"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,WAAA,GAAAF,OAAA;AAEA,IAAAG,OAAA,GAAAH,OAAA;AACA,IAAAI,kBAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,QAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,YAAA,GAAAN,OAAA;AACA,IAAAO,QAAA,GAAAP,OAAA;AAAgD,IAAAQ,WAAA,GAAAR,OAAA;AAAA,SAAAD,uBAAAU,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEhD,MAAMG,KAAK,GAAGC,IAAA,IAKR;EAAA,IALS;IACbC,QAAQ;IACRC,mBAAmB;IACnBC,MAAM;IACNC;EACF,CAAC,GAAAJ,IAAA;EACC,MAAMK,QAAQ,GAAG,IAAAC,uBAAW,EAAC,CAAC;EAC9B,MAAMC,UAAU,GAAG,IAAAC,cAAO,EACxB,OAAO;IAAEP,QAAQ;IAAEE,MAAM;IAAEC;EAAkB,CAAC,CAAC,EAC/C,CAACH,QAAQ,EAAEE,MAAM,EAAEC,iBAAiB,CACtC,CAAC;EAED,MAAM;IACJK,SAAS;IACTC;EACF,CAAC,GAAG,IAAAC,uBAAW,EAACC,KAAK,IAAIA,KAAK,CAACC,iBAAiB,CAAC;EAEjD,MAAMC,gBAAgB,GAAIC,MAAM,IAAK;IACnCV,QAAQ,CAAC,IAAAW,2BAAmB,EAACD,MAAM,CAAC,CAAC;EACvC,CAAC;EAED,IAAAE,gBAAS,EAAC,MAAM;IACdZ,QAAQ,CAAC,IAAAa,uCAA+B,EAACjB,QAAQ,CAAC,CAAC;EACrD,CAAC,EAAE,CAACI,QAAQ,EAAEJ,QAAQ,CAAC,CAAC;EAExB,OAAOQ,SAAS,gBACd,IAAAd,WAAA,CAAAwB,GAAA,EAACzB,QAAA,CAAA0B,kBAAkB;IAACC,KAAK,EAAEd,UAAW;IAAAe,QAAA,eACpC,IAAA3B,WAAA,CAAAwB,GAAA,EAAC1B,YAAA,CAAA8B,mBAAmB;MAAAD,QAAA,eAClB,IAAA3B,WAAA,CAAA6B,IAAA,EAAA7B,WAAA,CAAA8B,QAAA;QAAAH,QAAA,gBACE,IAAA3B,WAAA,CAAAwB,GAAA,EAAC5B,kBAAA,CAAAO,OAAW;UACVG,QAAQ,EAAEA,QAAS;UACnBc,MAAM,EAAEL,aAAc;UACtBgB,SAAS,EAAEZ,gBAAiB;UAC5BZ,mBAAmB,EAAEA;QAAoB,CAC1C,CAAC,eACF,IAAAP,WAAA,CAAAwB,GAAA,EAAC3B,QAAA,CAAAM,OAAO;UACNG,QAAQ,EAAEA,QAAS;UACnBc,MAAM,EAAEL,aAAc;UACtBgB,SAAS,EAAEZ,gBAAiB;UAC5BX,MAAM,EAAEA;QAAO,CAChB,CAAC;MAAA,CACF;IAAC,CACgB;EAAC,CACJ,CAAC,GACnB,IAAI;AACV,CAAC;AAEDJ,KAAK,CAAC4B,SAAS,GAAG;EAChB1B,QAAQ,EAAE2B,kBAAS,CAACC,MAAM,CAACC,UAAU;EACrC5B,mBAAmB,EAAE0B,kBAAS,CAACG,IAAI,CAACD,UAAU;EAC9C3B,MAAM,EAAEyB,kBAAS,CAACC,MAAM,CAACC,UAAU;EACnC1B,iBAAiB,EAAEwB,kBAAS,CAACG,IAAI,CAACD;AACpC,CAAC;AAAC,IAAAE,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GAEaC,KAAK","ignoreList":[]}